/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/events/PseudoEvents","sap/ui/dom/jquery/Selectors"],function(e,t){"use strict";var n={};var r=false;n.fastNavigationKey="sap-ui-fastnavgroup";function i(e){var t=document.querySelector("html");var n,r;while(e&&e!==t){if(e.getAttribute("data-sap-ui-customfastnavgroup")==="true"){r=e}if(e.getAttribute("data-sap-ui-fastnavgroup")==="true"){n=n||e}if(r){break}e=e.assignedSlot||e.parentElement||e.parentNode.host}return r||n}function s(e){if(e.activeElement&&e.activeElement.shadowRoot){return s(e.activeElement.shadowRoot)}return e.activeElement}function a(e,t){var n=e.parentElement||e.parentNode||e.host;if(n&&n!==t){return a(n,t)}return e!==document}function l(e){var t=e.element;var n=e.skipChild;var r=e.scope;if(t.id==="sap-ui-static"){n=true}if(!n){if(t.shadowRoot&&t.shadowRoot.firstElementChild){return t.shadowRoot.firstElementChild}else if(t.assignedElements&&t.assignedElements().length){return t.assignedElements()[0]}else if(t.firstElementChild){return t.firstElementChild}}if(t.assignedSlot){var i=t.assignedSlot.assignedElements();var s=i.indexOf(t)+1;if(s<i.length){return i[s]}}else if(t.nextElementSibling){return t.nextElementSibling}if(t.parentNode===r){return r}return l({element:t.assignedSlot||t.parentElement||t.parentNode||t.host,skipChild:true,scope:r})}function o(e){var t=e.element;var n=e.scope;var r=e.checkChildren||t===n;var i;if(t.id==="sap-ui-static"){r=false}if(r){var s;if(t.shadowRoot){s=t.shadowRoot}else if(t.lastElementChild){s=t.lastElementChild}else if(t.assignedElements&&t.assignedElements().length){i=t.assignedElements();s=i[i.length-1]}if(s){return o({element:s,checkChildren:true,scope:n})}else{return t.nodeType===11?t.host:t}}if(t.assignedSlot){i=t.assignedSlot.assignedElements();var a=i.indexOf(t)-1;if(a>=0){return o({element:i[a],checkChildren:true,scope:n})}}else if(t.previousElementSibling){return o({element:t.previousElementSibling,checkChildren:true,scope:n})}var l;if(t.assignedSlot){l=t.assignedSlot}else if(t.parentElement){l=t.parentElement}else if(t.parentNode){l=t.parentNode.host}return l}function u(t,n,i){var s;if(i){s=l({element:t,scope:n})}else{s=o({element:t,scope:n})}if(s===n){r=true}if(e.expr.pseudos.sapTabbable(s)){var a={element:s,startOver:r};r=false;return a}else{return u(s,n,i)}}n.handleF6GroupNavigation=function(n,r){var l=t.events.sapskipforward,o=t.events.sapskipback,d=l.aTypes.includes(n.type)&&l.fnCheck(n),f=d||o.aTypes.includes(n.type)&&o.fnCheck(n),p=null,v;if(!f||n.isMarked("sapui5_handledF6GroupNavigation")||n.isMarked()||n.isDefaultPrevented()){return}n.setMark("sapui5_handledF6GroupNavigation");n.setMarked();n.preventDefault();if(r&&r.skip){return}var c=r&&r.target?r.target:s(document);var m;if(r&&r.scope){m=r.scope}else{m=document.documentElement}if(!a(c,m)){return}var h=i(c);var g;var E;v=c;do{E=u(v,m,d);v=E.element;g=i(v)}while(!E.startOver&&h===g);if(!d){var k,C;do{v=k||v;E=u(v,m,d);k=E.element;C=i(k)}while(C===g&&!E.startOver)}if(g&&g.getAttribute("data-sap-ui-customfastnavgroup")==="true"&&g.id){var S=sap.ui.getCore().byId(g.id);if(S){p=e.Event("BeforeFastNavigationFocus");p.target=v;p.source=c;p.forward=d;S._handleEvent(p)}}if(!p||!p.isDefaultPrevented()){v.focus()}};return n});